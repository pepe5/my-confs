* INTRO
  I wanna have universal files for all my stations, but i use
  different platforms. Therefore - shall i have to branche? Study it
  on:

** platform specific
   - /etc/lsb-release
     DISTRIB_ID=Ubuntu
     DISTRIB_RELEASE=9.10
     DISTRIB_CODENAME=karmic
     DISTRIB_DESCRIPTION="Ubuntu 9.10"


* index/es
** [2/2] $> F=ftp3.lftp-find; cat <<EOF | sqlite3 $F.sqlite
*** DONE > CREATE TABLE "indexed" USING fts4 (
            "ln" INTEGER PRIMARY KEY AUTOINCREMENT,
            "ix" INTEGER,
            "basename" TEXT );
*** DONE :ARCHIVE: CREATE TABLE "basenames" (
            "ln" INTEGER PRIMARY KEY AUTOINCREMENT,
            "ix" INTEGER,
            "basename" TEXT );
        CREATE INDEX "basenames_ix" on basenames (basename ASC);
        EOF

** :ARCHIVE: $> head $F | egrep -bn . | while read L; do A=(${L//:/ }); echo INSERT INTO \
   basenames VALUES "(null,'${A[1]}','`basename ${A[2]}`');" | sqlite3 $F.sqlite; done

** :STU: 	$> egrep -bn . $F | head | while read L; do A=(${L//:/ }); echo INSERT INTO \
   basenames VALUES "(null,'${A[0]}','${A[1]}','`basename ${A[2]}`');"; done | sqlite3 ftp3.lftp-find.sqlite

** [1/2] try .import !
*** TODO $> mkfifo $F.import
    - $> egrep -bn . $F | head | perl -m'File::Basename' -ne 'm{([^:]+):([^:]+):(.*)} and print "$1|$2|" . scalar File::Basename::fileparse("$3") . "\n"' > $F.import &
    - $> sqlite3 $F.sqlite ".import $F.import basenames"

*** DONE :ARCHIVE: - x> egrep -bn . $F | head | while read L; do A=(${L//:/ }); echo "${A[0]}|${A[1]}|`basename ${A[2]}`"; done > $F.import &

** DONE $> sqlite3 $F.sqlite "SELECT * FROM indexed WHERE basename MATCH 'md5*' LIMIT 10"

** DONE $> dd if=$F bs=1 count=2048 skip=360 | head -1

** DONE >| while read L; do B=`echo $L | cut -d\| -f2`; echo '' -$L:; dd if=$F bs=1 skip=$B count=2048 | head -1; done
   -276706|19030841|boot.iso:
   /redhat/beta_cds/RHEL-5.10-Alpha/Client/i386/os/images/boot.iso
   -283265|19641817|boot.iso:
   /redhat/beta_cds/RHEL-5.10-Alpha/Client/x86_64/os/images/boot.iso
   -287386|20019893|boot.iso:
   /redhat/beta_cds/RHEL-5.10-Alpha/Server/i386/os/images/boot.iso
